.\"                                      Hey, EMACS: -*- nroff -*-
.\" (C) Copyright 2015 Johan Wermensj√∂ <johanwermensjoe@gmail.com>,
.\"
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH GBP-HELPER 1 "October 24, 2015"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
gbp-helper \- is a helper script to build debian packages with git
.SH SYNOPSIS
.B gbp-helper
.RI [ options ]
[\fB\-\-config\fR \fICONFIG_FILE\fR]
[<\fBcommand\fR>]
[\fIGIT_PATH\fR]
.SH DESCRIPTION
This manual page documents briefly the
.B gbp-helper
command.
.PP
.\" TeX users may be more comfortable with the \fB<whatever>\fP and
.\" \fI<whatever>\fP escape sequences to invode bold face and italics,
.\" respectively.
\fBgbp-helper\fP is helper script to build debian packages with git.
The script uses config files to specify branch names etc.
for your projects and helps you maintain three core branches:
release (for upstream dev), upstream and debian (for package).
.SH OPTIONS
These programs follow the usual GNU command line syntax, with long
options starting with two dashes (`-').
A summary of options is included below.
For a complete description, see the Info files.
.TP
.B \-h ", " \-\-help
Show the help menu.
.TP
.B \-V ", " \-\-version
Show the current version number.
.TP
.B \-v ", " \-\-verbose | \-q ", " \-\-quiet
Enable verbose or quiet mode.
.TP
.B \-c ", " \-\-color
Enable colored output.
.TP
.B \-s ", " \-\-safemode
Prevent any file changes.
.TP
.B \-n ", " \-\-norestore
Prevent auto restore on command failure.
.TP
.B \-\-config \fICONFIG_FILE\fR
Path to the config file (default is ./gbp\-helper).

.SH COMMANDS
.TP
.B test\-pkg
Prepare a release and build the package with test options.
Restore repository to the previous state. Used to test release changes quickly.
.TP
.B commit\-release
Commit the current release to the upstream branch and tag.
Then merge the created upstream with the debian branch.
.TP
.B update\-changelog
Update the changelog for a new release and commit the changes.
.TP
.B test\-build
Build the latest debian package with test options without tagging.
.TP
.B commit\-build
Build the latest debian package with standard options and tag.
The tag version is based on the latest version in debian/changelog.
.TP
.B upload
Upload the last build to the configured PPA.
Will not perform a build.
.TP
.B restore
Restore the repository to a earlier state e.g before a failed command.
The backups are stored temporarily and are created on all actions.
.TP
.B clone
Clone a source repository and setup release, upstream and debian branches.
.TP
.B config
Create example config file with default values.
